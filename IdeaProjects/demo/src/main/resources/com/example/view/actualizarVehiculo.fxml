<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Font?>

<?import javafx.collections.FXCollections?>
<?import java.lang.String?>
<DialogPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.example.controller.ActualizarVehiculoController"
            prefWidth="600.0"
            prefHeight="600.0">

    <headerText>
        Actualizar Vehículo
    </headerText>

    <content>
            <VBox spacing="15" style="-fx-padding: 10px;">
                <!-- Información del vehículo -->
                <VBox spacing="10">
                    <Label text="Información del Vehículo" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>

                    <GridPane hgap="15" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="100" prefWidth="150" />
                            <ColumnConstraints hgrow="ALWAYS" minWidth="200" />
                        </columnConstraints>

                        <Label text="Placa:" GridPane.rowIndex="0" GridPane.columnIndex="0" />
                        <HBox spacing="5" GridPane.rowIndex="0" GridPane.columnIndex="1">
                            <TextField fx:id="txtPlaca" promptText="Ingrese la placa del vehículo" HBox.hgrow="ALWAYS" />
                            <Label fx:id="lblErrorPlaca" text="*" style="-fx-text-fill: red; -fx-font-weight: bold;" visible="false" />
                        </HBox>

                        <Label text="Tipo de Vehículo:" GridPane.rowIndex="1" GridPane.columnIndex="0" />
                        <HBox spacing="5" GridPane.rowIndex="1" GridPane.columnIndex="1">
                            <ComboBox fx:id="cmbTipoVehiculo" promptText="Seleccione tipo" HBox.hgrow="ALWAYS" maxWidth="Infinity">
                                <items>
                                    <FXCollections fx:factory="observableArrayList">
                                        <String fx:value="Automóvil" />
                                        <String fx:value="Moto" />
                                        <String fx:value="Camión" />
                                    </FXCollections>
                                </items>
                            </ComboBox>
                            <Label fx:id="lblErrorTipo" text="*" style="-fx-text-fill: red; -fx-font-weight: bold;" visible="false" />
                        </HBox>

                        <Label text="Modelo:" GridPane.rowIndex="2" GridPane.columnIndex="0" />
                        <HBox spacing="5" GridPane.rowIndex="2" GridPane.columnIndex="1">
                            <TextField fx:id="txtModelo" promptText="Ingrese el modelo del vehículo" HBox.hgrow="ALWAYS" />
                            <Label fx:id="lblErrorModelo" text="*" style="-fx-text-fill: red; -fx-font-weight: bold;" visible="false" />
                        </HBox>

                        <Label text="Color:" GridPane.rowIndex="3" GridPane.columnIndex="0" />
                        <HBox spacing="5" GridPane.rowIndex="3" GridPane.columnIndex="1">
                            <TextField fx:id="txtColor" promptText="Ingrese el color del vehículo" HBox.hgrow="ALWAYS" />
                            <Label fx:id="lblErrorColor" text="*" style="-fx-text-fill: red; -fx-font-weight: bold;" visible="false" />
                        </HBox>

                        <Label text="Cliente:" GridPane.rowIndex="4" GridPane.columnIndex="0" />
                        <HBox spacing="5" GridPane.rowIndex="4" GridPane.columnIndex="1">
                            <TextField fx:id="txtCliente" editable="false" HBox.hgrow="ALWAYS" />
                            <Button text="Cambiar" onAction="#cambiarCliente"
                                    style="-fx-background-color: #3498db; -fx-text-fill: white;"/>
                        </HBox>
                    </GridPane>
                </VBox>

                <!-- Campos específicos para Automóvil -->
                <VBox fx:id="panelAutomovil" spacing="10" visible="false" managed="false">
                    <Label text="Datos Específicos - Automóvil" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>

                    <GridPane hgap="15" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="100" prefWidth="150" />
                            <ColumnConstraints hgrow="ALWAYS" minWidth="200" />
                        </columnConstraints>

                        <Label text="Número de Puertas:" GridPane.rowIndex="0" GridPane.columnIndex="0" />
                        <Spinner fx:id="spNumPuertas" editable="true" min="2" max="5" initialValue="4"
                                 GridPane.rowIndex="0" GridPane.columnIndex="1" />

                        <Label text="Tipo de Transmisión:" GridPane.rowIndex="1" GridPane.columnIndex="0" />
                        <ComboBox fx:id="cmbTransmision" promptText="Seleccione tipo" GridPane.rowIndex="1" GridPane.columnIndex="1" maxWidth="Infinity">
                            <items>
                                <FXCollections fx:factory="observableArrayList">
                                    <String fx:value="Manual" />
                                    <String fx:value="Automática" />
                                    <String fx:value="CVT" />
                                </FXCollections>
                            </items>
                        </ComboBox>

                        <Label text="Tipo de Combustible:" GridPane.rowIndex="2" GridPane.columnIndex="0" />
                        <ComboBox fx:id="cmbCombustible" promptText="Seleccione tipo" GridPane.rowIndex="2" GridPane.columnIndex="1" maxWidth="Infinity">
                            <items>
                                <FXCollections fx:factory="observableArrayList">
                                    <String fx:value="Gasolina" />
                                    <String fx:value="Diésel" />
                                    <String fx:value="Eléctrico" />
                                    <String fx:value="Híbrido" />
                                    <String fx:value="Gas" />
                                </FXCollections>
                            </items>
                        </ComboBox>
                    </GridPane>
                </VBox>

                <!-- Campos específicos para Moto -->
                <VBox fx:id="panelMoto" spacing="10" visible="false" managed="false">
                    <Label text="Datos Específicos - Moto" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>

                    <GridPane hgap="15" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="100" prefWidth="150" />
                            <ColumnConstraints hgrow="ALWAYS" minWidth="200" />
                        </columnConstraints>

                        <Label text="Cilindraje:" GridPane.rowIndex="0" GridPane.columnIndex="0" />
                        <TextField fx:id="txtCilindraje" promptText="Ingrese el cilindraje (cc)"
                                   GridPane.rowIndex="0" GridPane.columnIndex="1" />

                        <Label text="Tipo de Moto:" GridPane.rowIndex="1" GridPane.columnIndex="0" />
                        <ComboBox fx:id="cmbTipoMoto" promptText="Seleccione tipo" GridPane.rowIndex="1" GridPane.columnIndex="1" maxWidth="Infinity">
                            <items>
                                <FXCollections fx:factory="observableArrayList">
                                    <String fx:value="Deportiva" />
                                    <String fx:value="Scooter" />
                                    <String fx:value="Crucero" />
                                    <String fx:value="Enduro" />
                                    <String fx:value="Naked" />
                                </FXCollections>
                            </items>
                        </ComboBox>
                    </GridPane>
                </VBox>

                <!-- Campos específicos para Camión -->
                <VBox fx:id="panelCamion" spacing="10" visible="false" managed="false">
                    <Label text="Datos Específicos - Camión" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>

                    <GridPane hgap="15" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="100" prefWidth="150" />
                            <ColumnConstraints hgrow="ALWAYS" minWidth="200" />
                        </columnConstraints>

                        <Label text="Capacidad de Carga (kg):" GridPane.rowIndex="0" GridPane.columnIndex="0" />
                        <TextField fx:id="txtCapacidadCarga" promptText="Ingrese la capacidad de carga"
                                   GridPane.rowIndex="0" GridPane.columnIndex="1" />

                        <Label text="Número de Ejes:" GridPane.rowIndex="1" GridPane.columnIndex="0" />
                        <Spinner fx:id="spNumEjes" editable="true" min="2" max="6" initialValue="2"
                                 GridPane.rowIndex="1" GridPane.columnIndex="1" />

                        <Label text="Tipo de Camión:" GridPane.rowIndex="2" GridPane.columnIndex="0" />
                        <ComboBox fx:id="cmbTipoCamion" promptText="Seleccione tipo" GridPane.rowIndex="2" GridPane.columnIndex="1" maxWidth="Infinity">
                            <items>
                                <FXCollections fx:factory="observableArrayList">
                                    <String fx:value="Plataforma" />
                                    <String fx:value="Furgón" />
                                    <String fx:value="Volqueta" />
                                    <String fx:value="Cisterna" />
                                    <String fx:value="Remolque" />
                                </FXCollections>
                            </items>
                        </ComboBox>
                    </GridPane>
                </VBox>

                <!-- Información de membresía (solo lectura) -->
                <VBox spacing="10">
                    <Label text="Información de Membresía" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>

                    <GridPane hgap="15" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="100" prefWidth="150" />
                            <ColumnConstraints hgrow="ALWAYS" minWidth="200" />
                        </columnConstraints>

                        <Label text="Estado:" GridPane.rowIndex="0" GridPane.columnIndex="0" />
                        <TextField fx:id="txtEstadoMembresia" editable="false" GridPane.rowIndex="0" GridPane.columnIndex="1" />

                        <Label text="Fecha Vencimiento:" GridPane.rowIndex="1" GridPane.columnIndex="0" />
                        <TextField fx:id="txtFechaVencimiento" editable="false" GridPane.rowIndex="1" GridPane.columnIndex="1" />
                    </GridPane>

                    <HBox spacing="10" alignment="CENTER_RIGHT">
                        <Button fx:id="btnGestionarMembresia" text="Gestionar Membresía" onAction="#gestionarMembresia"
                                style="-fx-background-color: #9b59b6; -fx-text-fill: white;"/>
                    </HBox>
                </VBox>

                <Label fx:id="lblMensajeError" text="Por favor, complete todos los campos obligatorios."
                       style="-fx-text-fill: red; -fx-font-size: 12px;" visible="false" wrapText="true" />
            </VBox>
    </content>

    <buttonTypes>
        <ButtonType fx:constant="CANCEL" />
        <ButtonType fx:constant="OK" />
    </buttonTypes>
</DialogPane>